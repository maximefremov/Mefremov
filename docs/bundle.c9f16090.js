(()=>{"use strict";var t,e={422:(t,e,s)=>{s(511),s(155);var r=s(755);class o{constructor(t,e){this.$headerMenuEl=r(t),this.$toggleEl=r(e),this.$toggleEl.on("click",(()=>{this._toggle()}))}_toggle(){r([this.$headerMenuEl,this.$toggleEl]).toggleClass("active")}hide(){this.$headerMenuEl.hasClass("active")&&this._toggle()}get getHeight(){return this.$headerMenuEl.outerHeight()}}var a=s(755);class i{constructor(t,e){this.$parallaxEl=a(t),this._height=e,this._scrollTop=0,this._transformPos=this._opacityRatio=null}transform(t){this._scrollTop=t,this._transformPos=0-.6*this._scrollTop,this._opacityRatio=this._opacity(this._height),this.$parallaxEl.css({opacity:this._opacityRatio,transform:"translateY("+this._transformPos+"px)"})}_opacity(t){return 1-this._scrollTop/(t/1.5)}remove(){this.$parallaxEl.removeAttr("style")}set height(t){this._height=t,this._opacityRatio=this._opacity(t),this.$parallaxEl.css({opacity:this._opacityRatio})}}var n=s(755);class l{constructor(t){this.$headerTopEl=n(t),this.height=this.getHeight}showSticky(){this.$headerTopEl.addClass("sticky")}hideSticky(){this.$headerTopEl.removeClass("sticky")}get getHeight(){return this.$headerTopEl.outerHeight()}}var c=s(755);class h{constructor(){this._offset=0,this._easeInOutCubic(),this._init()}_init(){const t=this;let e=null,s=0;c('a[href^="#"]').on("click",(function(r){r.preventDefault(),e=c(this).attr("href"),s="#"===e?0:c(e).offset().top-t._offset,c("html, body").animate({scrollTop:s},820,"easeInOutCubic")}))}_easeInOutCubic(){c.easing.easeInOutCubic=function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}}set offset(t){this._offset=t}}var u=s(916),d=s.n(u),f=s(755);class p{constructor(){d()("browser-address-bar");const t=this;let e=0,s=0,r=0,a=0;let n=0;this.BREAKPOINTS={XS:575.98,SM:767.98,MD:991.98,LG:1199.98},this.headerMenu=new o(".header__menu-wrapper",".header__menu_toggle"),this.headerParallax=new i(".header__hero",f(window).outerHeight()),this.headerTop=new l(".header-top"),this.scrollTo=new h,f(window).on("load",(()=>{this.removePreloader()})),f(window).on("resize",(function(){e=f(this).outerHeight(),s=f(this).outerWidth(),s<=t.BREAKPOINTS.XS&&(t.headerParallax.remove(),t.scrollTo.offset=0),s>=t.BREAKPOINTS.XS&&(t.scrollTo.offset=70),s>=t.BREAKPOINTS.SM&&t.headerMenu.hide(),r=t.headerTop.getHeight,a=t.headerMenu.getHeight})).trigger("resize"),f(window).on("scroll",(function(){n=f(this).scrollTop(),s<=t.BREAKPOINTS.XS&&n>a&&t.headerMenu.hide(),s>=t.BREAKPOINTS.XS&&(t.headerParallax.transform(n),n>=e-r?t.headerTop.showSticky():n<e-r&&t.headerTop.hideSticky())})).trigger("scroll"),this.fancyBox(),this.portfolioWebp(),this.sendMessage(),this.wayPoints()}portfolioWebp(){function t(t){return t.replace(/\.[^/.]+$/,"")+".jpg"}(function(){const t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0==t.toDataURL("image/webp").indexOf("data:image/webp")})||(f(".portfolio__cover").each((function(){const e=f(this);e.attr("src",t(e.attr("src"))),e.is("[srcset]")&&e.attr("srcset",t(e.attr("srcset")))})),f(".portfolio__gallery_img").each((function(){const e=f(this);e.attr("data-src",t(e.attr("data-src"))),e.attr("data-retina",t(e.attr("data-retina")))})))}removePreloader(){setTimeout((function(){f("body").removeClass("compensate-for-scrollbar"),f(".preloader").removeClass("visible")}),1e3)}fancyBox(){const t=window.devicePixelRatio||1;f('button[value="gallery"]').on("click",(function(){const e=f(this).closest(".portfolio__item").find(".portfolio__gallery_img");let s=[],r=null;for(let o=0;o<e.length;o++)r=t>1.5?f(e[o]).data("retina"):f(e[o]).data("src"),s.push({src:r});f.fancybox.open(s,{image:{preload:!0},transitionEffect:"slide",transitionDuration:620,wheel:!1,afterLoad:function(e,s){t>1.5&&(s.width=s.width/t,s.height=s.height/t)}})}))}sendMessage(){let t={process:"Идёт отправка...",success:"Сообщение успешно отправлено!",error:"Ошибка отправки сообщения!"};const e=f(".contact__form"),s=f(".contact__form_alert"),r=f(".contact__form_submit");let o=r.val();"en"===f("html").attr("lang")&&(t={process:"Please wait...",success:"Message sent successfully!",error:"Failed to send message!"}),e.submit((function(a){a.preventDefault(),e.addClass("inactive"),r.val(t.process),f.ajax({type:"POST",dataType:"json",url:"https://formcarry.com/s/r1L5qvKGX",data:f(this).serialize(),success:function(e){"success"===e.status?s.addClass("active success").text(t.success):this.error()},error:function(){s.addClass("active error").text(t.error)},complete:function(){setTimeout((function(){s.removeClass("active success error"),r.val(o),e.trigger("reset").removeClass("inactive")}),3500)}})}))}wayPoints(){let t;setTimeout((function(){!function(e,s){let r=f(window).height()/1.2;e.each((function(){let e=f(this),o=e.attr("data-animation"),a=e.attr("data-delay");e.css({animationDelay:a}),t=s?t:e,t.waypoint((function(){e.addClass(o)}),{triggerOnce:!0,offset:r})}))}(f(".animated"))}),10)}}s(755)((function(){new p}))}},s={};function r(t){var o=s[t];if(void 0!==o)return o.exports;var a=s[t]={exports:{}};return e[t].call(a.exports,a,a.exports,r),a.exports}r.m=e,t=[],r.O=(e,s,o,a)=>{if(!s){var i=1/0;for(h=0;h<t.length;h++){for(var[s,o,a]=t[h],n=!0,l=0;l<s.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((t=>r.O[t](s[l])))?s.splice(l--,1):(n=!1,a<i&&(i=a));if(n){t.splice(h--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[s,o,a]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={296:0};r.O.j=e=>0===t[e];var e=(e,s)=>{var o,a,[i,n,l]=s,c=0;if(i.some((e=>0!==t[e]))){for(o in n)r.o(n,o)&&(r.m[o]=n[o]);if(l)var h=l(r)}for(e&&e(s);c<i.length;c++)a=i[c],r.o(t,a)&&t[a]&&t[a][0](),t[i[c]]=0;return r.O(h)},s=self.webpackChunkmefremov=self.webpackChunkmefremov||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var o=r.O(void 0,[736],(()=>r(422)));o=r.O(o)})();