(()=>{"use strict";var t,e={217:(t,e,s)=>{s(511),s(155);var i=s(755);class o{constructor(t){this._offset=t,this._easeInOutCubic(),this._init()}_init(){const t=this;let e=null,s=0;i('a[href^="#"]').on("click",(function(o){o.preventDefault(),e=i(this).attr("href"),s="#"===e?0:i(e).offset().top-t._offset,i("html, body").animate({scrollTop:s},820,"easeInOutCubic")}))}_easeInOutCubic(){i.easing.easeInOutCubic=function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}}set offset(t){this._offset=t}}var a=s(755);class r{constructor(t,e){this._menuEl=a(t),this._toggleEl=a(e),this._init()}_init(){const t=this;this._menuEl.on("click",(function(){t.hide()})),this._toggleEl.on("click",(function(e){e.preventDefault(),a(this).toggleClass("active"),t._menuEl.toggleClass("active")}))}hide(){this._menuEl.hasClass("active")&&(this._toggleEl.removeClass("active"),this._menuEl.removeClass("active"))}}var n=s(755);class l{constructor(t){this._headerEl=n(t)}showSticky(){this._headerEl.addClass("sticky")}hideSticky(){this._headerEl.removeClass("sticky")}}var c=s(755);class h{constructor(t,e){this._parallaxEl=c(t),this._height=e,this._scrollTop=0,this._transformPos=this._opacityRatio=null}transform(t){this._scrollTop=t,this._transformPos=0-.6*this._scrollTop,this._opacityRatio=this._opacity(this._height),this._parallaxEl.css({opacity:this._opacityRatio,transform:"translateY("+this._transformPos+"px)"})}_opacity(t){return 1-this._scrollTop/(t/1.5)}set height(t){this._height=t,this._opacityRatio=this._opacity(t),this._parallaxEl.css({opacity:this._opacityRatio})}}var u=s(916),f=s.n(u),d=s(755);new class{constructor(){f()("browser-address-bar");const t=this;let e,s,i,a=!1,n=!1,c=!1;this.headerHeightSticky=70,this.scrollTo=new o(this.headerHeightSticky),this.menu=new r(".header__menu-wrapper",".header__menu_toggle"),this.header=new l(".header-top"),this.parallax=new h(".header__hero",d(window).outerHeight()),this.fancyBox(),this.sendMessage(),this.wayPoints(),d(window).on("resize",(function(){e=d(this).outerHeight(),s=d(this).outerWidth(),s<=575&&!1===n?(a=!1,n=!0,t.isMobile()):s>575&&s<=768&&!1===a?(a=!0,n=!1,t.isTablet()):s>768&&(!0===a||!0===n)&&(a=!1,n=!1,t.isDesktop()),n||(t.parallax.height=e)})),d(window).trigger("resize"),d(window).on("scroll",(function(){i=d(this).scrollTop();let s=a||n?0:10;i>=e-t.headerHeightSticky-s&&!1===c?(c=!0,t.header.showSticky()):i<e-t.headerHeightSticky-s&&!0===c&&(c=!1,t.header.hideSticky()),i>=e&&n&&t.menu.hide(),!n&&i<e&&t.parallax.transform(i)})),d(window).trigger("scroll"),d(window).on("load",(function(){t.removePreloader()}))}isDesktop(){this.scrollTo.offset=this.headerHeightSticky,this.menu.hide()}isTablet(){this.scrollTo.offset=this.headerHeightSticky}isMobile(){this.scrollTo.offset=0}removePreloader(){setTimeout((function(){d("body").removeClass("compensate-for-scrollbar"),d(".preloader").removeClass("visible")}),1e3)}fancyBox(){const t=window.devicePixelRatio||1;d('button[value="gallery"]').on("click",(function(){const e=d(this).closest(".portfolio__item").find(".portfolio__gallery_img");let s=[],i=null;for(let o=0;o<e.length;o++)i=t>1.5?d(e[o]).data("retina"):d(e[o]).data("src"),s.push({src:i});d.fancybox.open(s,{image:{preload:!0},transitionEffect:"slide",transitionDuration:620,wheel:!1,afterLoad:function(e,s){t>1.5&&(s.width=s.width/t,s.height=s.height/t)}})}))}sendMessage(){let t={process:"Идёт отправка...",success:"Сообщение успешно отправлено!",error:"Ошибка отправки сообщения!"};const e=d(".contact__form"),s=d(".contact__form_alert"),i=d(".contact__form_submit");let o=i.val();"en"===d("html").attr("lang")&&(t={process:"Please wait...",success:"Message sent successfully!",error:"Failed to send message!"}),e.submit((function(a){a.preventDefault(),e.addClass("inactive"),i.val(t.process),d.ajax({type:"POST",dataType:"json",url:"https://formcarry.com/s/r1L5qvKGX",data:d(this).serialize(),success:function(e){"success"===e.status?s.addClass("active success").text(t.success):this.error()},error:function(){s.addClass("active error").text(t.error)},complete:function(){setTimeout((function(){s.removeClass("active success error"),i.val(o),e.trigger("reset").removeClass("inactive")}),3500)}})}))}wayPoints(){let t;setTimeout((function(){!function(e,s){let i=d(window).height()/1.2;e.each((function(){let e=d(this),o=e.attr("data-animation"),a=e.attr("data-delay");e.css({"animation-delay":a}),t=s?t:e,t.waypoint((function(){e.addClass(o)}),{triggerOnce:!0,offset:i})}))}(d(".animated"))}),10)}}}},s={};function i(t){var o=s[t];if(void 0!==o)return o.exports;var a=s[t]={exports:{}};return e[t].call(a.exports,a,a.exports,i),a.exports}i.m=e,t=[],i.O=(e,s,o,a)=>{if(!s){var r=1/0;for(h=0;h<t.length;h++){for(var[s,o,a]=t[h],n=!0,l=0;l<s.length;l++)(!1&a||r>=a)&&Object.keys(i.O).every((t=>i.O[t](s[l])))?s.splice(l--,1):(n=!1,a<r&&(r=a));if(n){t.splice(h--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[s,o,a]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={296:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var o,a,[r,n,l]=s,c=0;if(r.some((e=>0!==t[e]))){for(o in n)i.o(n,o)&&(i.m[o]=n[o]);if(l)var h=l(i)}for(e&&e(s);c<r.length;c++)a=r[c],i.o(t,a)&&t[a]&&t[a][0](),t[r[c]]=0;return i.O(h)},s=self.webpackChunkmefremov=self.webpackChunkmefremov||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var o=i.O(void 0,[736],(()=>i(217)));o=i.O(o)})();